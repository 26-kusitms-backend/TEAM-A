# Querydsl

쿼리 작성에 대한 편리함을 제공해주는 프레임워크이다. JPA에서의 쿼리의 경우, Native SQL 또는 JPQL로 작성할 수 있다. 이는 개발자가 직접 작성하는 문자 형식이기 때문에 문법적인 오류가 발생해도 컴파일 시점에 캐치하지 않는다. 

Querydsl의 경우, 모든 쿼리를 자바 코드로 작성하기 때문에 컴파일 시점에 오류를 발견할 수 있다.

자바 코드로 쿼리를 작성할 수 있게 해주는 또다른 기술은 JPA Criteria라는 Builder AP가 있다. 이는 굉장히 복잡한 코드를 개발자가 직접 구현해야 한다는 단점이 있다. 

Querydsl의 경우, 코드가 단순하고 가독성이 뛰어나며, 재사용성이 높다.

또한, 동적 쿼리 작성에 대한 강점을 갖고 있다.

## 동적 쿼리란

실행 시점에 쿼리 문장이 만들어져서 실행되는 쿼리문을 의미한다.

일반적으로 JPA를 이용하는 쿼리문들은 기본적인 CRU를 JPARepository를 상속받아 구현하고 그 외 필요한 경우 쿼리 메소드를 정의하여 사용한다.

JPA를 이용한 쿼리문들은 파라미터 인자를 제외하고는 이미 결정되어 있다.

검색의 경우, 검색 조건이 여러 개이거나 없는 경우가 있다. 이때는 어떻게 처리해야 할까? querydsl를 사용하면 된다.!

## 검색 쿼리

검색에 필요한 조건들이 n개 라면, n개의 request param을 url에 다 노출해야 할까?

나의 경우, mybatis를 이용한 동적 쿼리를 사용할 때에는 request body를 통해 DTO 형식으로 검색 조건을 받는다.

request param이 너무 많아져 가독성과 유지보수에 비효율적이라고 판단했기 때문이다.

자세한 사용법이나 관련 자료는 아래 블로그를 통해 확인하면 된다.

[querydsl 참고 블로그](https://gimquokka.github.io/spring%20data/Querydsl%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%B3%B5%EC%9E%A1%ED%95%9C-%EB%8F%99%EC%A0%81%EC%BF%BC%EB%A6%AC-%EA%B5%AC%ED%98%84%EA%B8%B0/)