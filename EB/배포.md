# 배포
배포는 빌드로 만들어진 실행가능한 파일을 사용자가 접근할 수 있는 환경에 배치하는 것이다.

## 무중단 배포
어플리케이션의 중단 없이 배포하는 것이다. 

로드밸런서는 서버에 가해지는 부하를 분산시켜주는 장치 또는 기술을 통칭한다. 클라이언트와 서버 사이에 위치하며, 한 대의 서버로 부하가 집중되지 않도록 트래픽을 관리해 각각의 서버가 최적의 성능을 낼 수 있도록 한다.

## 무중단 배포 종류

1. 롤링 배포

사용 중인 인스턴스 내에서 새 버전을 점진적으로 교체하는 것이다. 서비스 중인 인스턴스 하나를 로드밸러서에서 라우팅하지 않도록 한 뒤, 새 버전을 적용하여 다시 라우팅하도록 한다. 이를 반복하여 모든 인스턴스에 새 버전의 어플리케이션을 배포한다.

특징

- 인스턴스마다 차례로 배포를 하기에 상황에 따라 손쉽게 롤백할 수 있다.
- 추가적인 인스턴스를 늘리지 않아도 된다.
- 관리가 편하다.
- 세 버전을 배포할 때, 인스턴스의 수가 감소하기 때문에 사용 중인 인스턴스에 트래픽이 몰릴 수 있다.

2. 블루-그린 배포

블루는 구버전, 그린은 신버전을 의미한다. 운영 중인 구버전과 동일하게 신버전의 인스턴스를 구성한 후, 로드밸런서를 통해 모든 트래픽을 한 번에 신 버전 쪽으로 전환하는 방식이다.

특징

- 구버전의 인스턴스가 그대로 남아 있어서 롤백이 쉽다.
- 운영환경에 영향을 주지 않고 새 버전을 테스트할 수 있다.
- 시스템 자원이 2배로 필요하다.

3. 카나리 배포

잠재적 문제 상황을 미리 발견하기 위한 방식이다. 신버전을 소수의 유저들에게만 배포를 해보고 문제가 없는 것을 확인해가며 점차 많은 유저들에게 배포하는 기법이다. 블루-그린과 유사하지만 블루-그린처럼 트래픽을 한번에 확 바꾸는 것이 아니라 단계적으로 전환하기에 부정적 영향을 최소화하고 상황에 따라 트래픽 양을 조절하며 롤백할 수 있다.

특징 
- 문제 상황을 빠르게 감지할 수 있다.
- A/B 테스트로 활용 가능하다.
- 네트워크 트래픽 제어에 부담이 있다.